---
import Layout from "../layouts/Layout.astro";

import Dashboard from "../components/Dashboard";
import OrganizationSchema from "../components/schema/OrganizationSchema.astro";
import ItemListSchema from "../components/schema/ItemListSchema.astro";
import data from "../data/tools.json";

// Flatten all tools for the homepage ItemList
const allTools = data.tools.flatMap((category: any) => category.content);
---

<Layout
  site="Xarticl.es"
  title="Xarticl.es"
  tagline="A curated directory of the best long-form articles on X."
  showSearch={true}
>
  <OrganizationSchema />
  <ItemListSchema items={allTools} listName="Articles Directory - All Articles" />
  <main id="main-content">
    <Dashboard client:load category="all" transition:persist />
  </main>
</Layout>
