---
import Layout from "../../layouts/Layout.astro";

import "@new-ui/foundations";
import Dashboard from "../../components/Dashboard";
import data from "../../data/tools.json";

export function getStaticPaths() {
  // Derive paths from data instead of hardcoding
  return data.tools.map((cat: any) => ({
    params: { category: cat.category }
  }));
}

const { category } = Astro.params;
---

<Layout
  site={`Xarticl.es - ${category}`}
  title="Xarticl.es"
  tagline="A curated directory of the best long-form articles on X."
  showSearch={true}
>
  <main id="main-content">
    <Dashboard client:load category={category} />
  </main>
</Layout>

